<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test - Simple Table</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        table { border-collapse: collapse; width: 100%; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .debug-info { background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 4px; }
    </style>
</head>
<body>
    <h1>Debug Test - Simple Table</h1>
    <div class="debug-info">
        <p><strong>Instructions:</strong></p>
        <ol>
            <li>Load this page with the Chrome extension enabled</li>
            <li>Open browser console (F12)</li>
            <li>Look for the "Download CSV" button that should appear automatically</li>
            <li>Click the button and check console logs</li>
        </ol>
    </div>

    <table id="test-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Department</th>
                <th>Salary</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>1</td><td>John Smith</td><td>Engineering</td><td>$75,000</td></tr>
            <tr><td>2</td><td>Jane Doe</td><td>Marketing</td><td>$65,000</td></tr>
            <tr><td>3</td><td>Bob Johnson</td><td>Sales</td><td>$55,000</td></tr>
            <tr><td>4</td><td>Alice Brown</td><td>HR</td><td>$60,000</td></tr>
            <tr><td>5</td><td>Charlie Wilson</td><td>Engineering</td><td>$80,000</td></tr>
        </tbody>
    </table>

    <div class="debug-info">
        <h3>Debug Information</h3>
        <p>Table element count: <span id="table-count">0</span></p>
        <p>Table rows: <span id="row-count">0</span></p>
        <p>Download button present: <span id="button-status">No</span></p>
    </div>

    <script>
        // Debug information
        function updateDebugInfo() {
            const tables = document.querySelectorAll('table');
            const testTable = document.getElementById('test-table');
            const downloadBtn = document.querySelector('.table-sniffer-download-btn');
            
            document.getElementById('table-count').textContent = tables.length;
            document.getElementById('row-count').textContent = testTable ? testTable.rows.length : 0;
            document.getElementById('button-status').textContent = downloadBtn ? 'Yes' : 'No';
        }

        // Update debug info every second
        setInterval(updateDebugInfo, 1000);
        
        // Initial update
        setTimeout(updateDebugInfo, 100);

        // Log when page is ready
        console.log('Debug test page loaded');
        console.log('Table element:', document.getElementById('test-table'));
        console.log('Table rows:', document.getElementById('test-table').rows.length);
    </script>
</body>
</html>
